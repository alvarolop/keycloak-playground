# Default values for keycloak.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

global:
  namespace: keycloak
  clusterDomain: $BASE_DOMAIN # ocp.sandboxXXX.example.com

operator:
  enabled: true
  channel: stable-v26.2
  installPlanApproval: Automatic

keycloak:
  bootstrapAdmin:
    username: admin
    password: admin
  # logging:
  #   # Set the log output to JSON or default (plain) unstructured logging
  #   logConsoleOutput: json
  # https://www.keycloak.org/high-availability/multi-cluster/deploy-keycloak-kubernetes
  metrics:
    enabled: true
    eventMetricsUserEnabled: true
    grafanaDashboardsEnabled: false
  resources:
    requests:
      cpu: 300m
      memory: 1700Mi
    limits:
      cpu: '2'
      memory: 2Gi
  tracing:
    enabled: true
    endpoint: http://otel-collector.otel.svc.cluster.local:4317
    samplerType: parentbased_traceidratio
    samplerRatio: 1

postgresql:
  enabled: true
  name: postgresql-db
  ssl: true
  image:
    name: docker.io/library/postgres
    tag: 17

realms:
  - name: demo
    displayName: Demo Realm
    clients:
      - name: quarkus-petclinic
    groups:
      - name: staff
        displayName: Staff
        subGroups:
          - name: personal-staff
            displayName: Personal staff
    roles:
      - name: vet
        description: Veterinarian role
      - name: assistant
        description: Assistant role
    users:
      - username: alice
        password: alice
        firstName: Alice
        lastName: Doe
        email: alice@example.com
        emailVerified: true
        enabled: true
        createdTimestamp: 1759276800000 # 2025-10-01T00:00:00Z
        realmRoles:
          - vet
        groups:
          - staff/personal-staff
      - username: bob
        password: bob
        firstName: Bob
        lastName: Doe
        email: bob@example.com
        emailVerified: true
        enabled: true
        createdTimestamp: 1759276800000 # 2025-10-01T00:00:00Z
        realmRoles:
          - assistant
        groups:
          - staff/personal-staff

